<!--
// Licensed under the Apache License. See footer for details.
-->
<h2>Weather<span ng-if="data.selectedPlace.name"> for {{data.selectedPlace.name}}</span></h2>

<div class="source-panel">
  <button class="btn btn-warning btn-sm" type="button" data-toggle="collapse" data-target="#weatherSource" aria-expanded="false" aria-controls="weatherSource">View JSON source for Weather data</button>
  <div class="collapse" id="weatherSource">
    <json-formatter json="data.currentWeather" open="1"></json-formatter>
    <json-formatter json="data.weatherForecast" open="1"></json-formatter>
  </div>
</div>

<div class="weather well" ng-if="data.currentWeather.observation">
  <div class="media weather-current">
    <div class="media-left">
      <img class="media-object weather-current-icon" ng-src="images/twc/{{data.currentWeather.observation.icon_code}}.png" /> {{data.currentWeather.observation.phrase_32char}}
    </div>
    <div class="media-body">
      <h4 class="media-heading">{{data.currentWeather.observation.metric.temp}}</h4>
      <div>Feels like {{data.currentWeather.observation.metric.feels_like}}</div>
      <div>Lat: {{data.currentWeather.metadata.latitude}}, Lon: {{controller.data.currentWeather.metadata.longitude}}</div>
      <div>Updated {{data.currentWeather.observation.obs_time_local}}</div>
    </div>
  </div>

  <div ng-repeat="forecast in data.weatherForecast.forecasts" class="weather-day-box" ng-if="forecast.day">
    <span class="weather-day-weekday">{{forecast.dow}}</span>
    <br/>
    <img class="weather-day-icon" ng-src="images/twc/{{forecast.day.icon_code}}.png" />
    <br/>
    <div>
      <span class="weather-day-temp">{{forecast.day.temp}}</span>
      <span class="weather-day-min_temp">{{forecast.min_temp}}</span>
    </div>
  </div>
</div>
<!--
//------------------------------------------------------------------------------
// Licensed under the Apache License, Version 2.0 (the "License");
// you may not use this file except in compliance with the License.
// You may obtain a copy of the License at
//
//    http://www.apache.org/licenses/LICENSE-2.0
//
// Unless required by applicable law or agreed to in writing, software
// distributed under the License is distributed on an "AS IS" BASIS,
// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
// See the License for the specific language governing permissions and
// limitations under the License.
//------------------------------------------------------------------------------
-->